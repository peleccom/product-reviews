{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"product-reviews","text":"<p>A plugin system for product reviews fetcher</p>"},{"location":"#welcome-to-product-reviewss-documentation","title":"Welcome to product-reviews's documentation!","text":""},{"location":"#contents","title":"Contents","text":"<ul> <li>Installation</li> <li>Usage</li> <li>Modules</li> <li>Contributing</li> <li>History</li> </ul>"},{"location":"installation/","title":"Installation","text":""},{"location":"installation/#stable-release","title":"Stable release","text":"<p>To install product-reviews, run this command in your terminal:</p> <pre><code>uv add product-reviews\n</code></pre> <p>Or if you prefer to use <code>pip</code>:</p> <pre><code>pip install product-reviews\n</code></pre>"},{"location":"installation/#from-source","title":"From source","text":"<p>The source files for product-reviews can be downloaded from the Github repo.</p> <p>You can either clone the public repository:</p> <pre><code>git clone git://github.com/peleccom/product-reviews\n</code></pre> <p>Or download the tarball:</p> <pre><code>curl -OJL https://github.com/peleccom/product-reviews/tarball/master\n</code></pre> <p>Once you have a copy of the source, you can install it with:</p> <pre><code>cd product-reviews\nuv pip install .\n</code></pre>"},{"location":"modules/","title":"API Reference","text":""},{"location":"modules/#product_reviews_1","title":"product_reviews","text":""},{"location":"modules/#product_reviews.BaseReviewsProvider","title":"<code>BaseReviewsProvider</code>","text":"<p>               Bases: <code>ABC</code></p> Source code in <code>src/product_reviews/providers/base.py</code> <pre><code>class BaseReviewsProvider(ABC):\n    name: ClassVar[str]\n    description: ClassVar[str]\n    notes: ClassVar[str | None]\n    url_regex: ClassVar[str | re.Pattern[str]]\n    test_urls: ClassVar[list[str]] = []\n\n    @classmethod\n    def check_url(cls, url: str) -&gt; bool:\n        if isinstance(cls.url_regex, (list, tuple)):\n            for url_regex in cls.url_regex:\n                if re.match(url_regex, url):\n                    logger.debug(f\"Url match with `{cls.name}`\")\n                    return True\n        else:\n            if re.match(cls.url_regex, url):\n                logger.debug(f\"Url match with `{cls.name}`\")\n                return True\n        return False\n\n    @abstractmethod\n    def get_reviews(self, url: str) -&gt; ReviewList:\n        raise NotImplementedError\n\n    def check_health(self, url: str | None = None) -&gt; list[HealthCheckResult]:\n        \"\"\"\n        Check health of the provider by testing all test URLs.\n        If a specific URL is provided, only health-check that URL is evaluated.\n        Returns a list of HealthCheckResult objects, one for each tested URL.\n        \"\"\"\n        if url is not None:\n            return [_get_health_for_url(self, url)]\n        if not self.test_urls:\n            return [\n                HealthCheckResult(\n                    is_healthy=False,\n                    message=\"No test URLs configured\",\n                )\n            ]\n\n        results = []\n        for url in self.test_urls:\n            results.append(_get_health_for_url(self, url))\n        return results\n\n    def __repr__(self) -&gt; str:\n        return f\"&lt;{self.__class__.__name__}(name={self.name!r})&gt;\"\n</code></pre>"},{"location":"modules/#product_reviews.BaseReviewsProvider.check_health","title":"<code>check_health(url=None)</code>","text":"<p>Check health of the provider by testing all test URLs. If a specific URL is provided, only health-check that URL is evaluated. Returns a list of HealthCheckResult objects, one for each tested URL.</p> Source code in <code>src/product_reviews/providers/base.py</code> <pre><code>def check_health(self, url: str | None = None) -&gt; list[HealthCheckResult]:\n    \"\"\"\n    Check health of the provider by testing all test URLs.\n    If a specific URL is provided, only health-check that URL is evaluated.\n    Returns a list of HealthCheckResult objects, one for each tested URL.\n    \"\"\"\n    if url is not None:\n        return [_get_health_for_url(self, url)]\n    if not self.test_urls:\n        return [\n            HealthCheckResult(\n                is_healthy=False,\n                message=\"No test URLs configured\",\n            )\n        ]\n\n    results = []\n    for url in self.test_urls:\n        results.append(_get_health_for_url(self, url))\n    return results\n</code></pre>"},{"location":"modules/#product_reviews.NoMatchedProvidersException","title":"<code>NoMatchedProvidersException</code>","text":"<p>               Bases: <code>ProductReviewsError</code></p> <p>Raised when no provider matches the given URL.</p> Source code in <code>src/product_reviews/providers/exceptions.py</code> <pre><code>class NoMatchedProvidersException(ProductReviewsError):\n    \"\"\"Raised when no provider matches the given URL.\"\"\"\n</code></pre>"},{"location":"modules/#product_reviews.ProductReviewsService","title":"<code>ProductReviewsService</code>","text":"<p>ProductReviewsService is a class that provides an interface to the <code>product-reviews</code> plugin system.</p> <p>It allows to parse reviews from a given URL, list available providers, and get a provider for a given URL.</p> Source code in <code>src/product_reviews/reviews.py</code> <pre><code>class ProductReviewsService:\n    \"\"\"\n    ProductReviewsService is a class that provides an interface to the\n    `product-reviews` plugin system.\n\n    It allows to parse reviews from a given URL, list available providers,\n    and get a provider for a given URL.\n\n    \"\"\"\n\n    @staticmethod\n    def parse_reviews(url: str) -&gt; ProviderReviewList:\n        return parse_reviews(url)\n\n    @staticmethod\n    def list_providers() -&gt; list[type[BaseReviewsProvider]]:\n        return list_providers()\n\n    def get_provider_for_url(self, url: str) -&gt; type[BaseReviewsProvider] | None:\n        return _check_matched_provider(url)\n\n    def get_provider_class(self, provider_name: str) -&gt; type[BaseReviewsProvider]:\n        return load_all_providers_map()[provider_name]\n\n    def get_provider_names(self) -&gt; list[str]:\n        return list(load_all_providers_map().keys())\n\n    def get_provider(self, provider_name: str) -&gt; BaseReviewsProvider:\n        return load_all_providers_map()[provider_name]()\n</code></pre>"},{"location":"modules/#product_reviews.ReviewsParseException","title":"<code>ReviewsParseException</code>","text":"<p>               Bases: <code>Exception</code></p> <p>Raised when an error occurs while parsing reviews.</p> Source code in <code>src/product_reviews/providers/exceptions.py</code> <pre><code>class ReviewsParseException(Exception):\n    \"\"\"Raised when an error occurs while parsing reviews.\"\"\"\n\n    pass\n</code></pre>"},{"location":"usage/","title":"Usage","text":""},{"location":"usage/#cli-usage","title":"CLI Usage","text":"<p>The <code>product-reviews</code> CLI provides three main commands:</p>"},{"location":"usage/#list-available-providers","title":"List available providers","text":"<p>List all available review providers and their information:</p> <pre><code>product-reviews list\n</code></pre>"},{"location":"usage/#scrape-reviews-from-a-url","title":"Scrape reviews from a URL","text":"<p>Extract reviews from a supported e-commerce URL:</p> <pre><code>product-reviews scrape &lt;URL&gt;\n</code></pre> <p>Example:</p> <pre><code>product-reviews scrape https://example.com/reviews/product-1\n</code></pre>"},{"location":"usage/#check-provider-health","title":"Check provider health","text":"<p>Test the health and availability of providers:</p> <pre><code># Check all providers\nproduct-reviews health\n\n# Check specific provider\nproduct-reviews health --provider jsonfs\n</code></pre>"},{"location":"usage/#python-api-usage","title":"Python API Usage","text":""},{"location":"usage/#basic-usage","title":"Basic Usage","text":"<pre><code>from product_reviews import ProductReviewsService\n\n# Initialize the service\nservice = ProductReviewsService()\n\n# Parse reviews from a URL\nreviews = service.parse_reviews(\"https://example.com/reviews/product-1\")\n\nprint(f\"Provider: {reviews.provider}\")\nprint(f\"Review count: {reviews.count()}\")\n\n# Access individual reviews\nfor review in reviews.reviews:\n    print(f\"Rating: {review.rating}\")\n    print(f\"Text: {review.text}\")\n    print(f\"Date: {review.created_at}\")\n</code></pre>"},{"location":"usage/#list-available-providers_1","title":"List Available Providers","text":"<pre><code>from product_reviews import ProductReviewsService\n\nservice = ProductReviewsService()\n\n# Get provider names\nproviders = service.get_provider_names()\nprint(providers)\n\n# Get provider classes\nprovider_classes = service.list_providers()\nfor provider_class in provider_classes:\n    provider = provider_class()\n    print(f\"Name: {provider.name}\")\n    print(f\"Description: {provider.description}\")\n</code></pre>"},{"location":"usage/#get-specific-provider","title":"Get Specific Provider","text":"<pre><code>from product_reviews import ProductReviewsService\n\nservice = ProductReviewsService()\n\n# Get provider by name\nprovider = service.get_provider(\"jsonfs\")\n\n# Check if URL matches provider\nif provider.check_url(\"https://example.com/reviews/product-1\"):\n    reviews = provider.get_reviews(\"https://example.com/reviews/product-1\")\n</code></pre>"},{"location":"usage/#working-with-review-data","title":"Working with Review Data","text":"<pre><code>from product_reviews import ProductReviewsService\n\nservice = ProductReviewsService()\nreviews = service.parse_reviews(\"https://example.com/reviews/product-1ws\")\n\n# Convert to dictionary\nfor review in reviews.reviews:\n    review_dict = review.to_dict()\n    print(review_dict)\n\n# Convert to JSON\nfor review in reviews.reviews:\n    review_json = review.to_json()\n    print(review_json)\n\n# Create review from representation\nfrom product_reviews import Review\nreview_data = {\n    \"rating\": 4.5,\n    \"created_at\": \"2023-01-01T12:00:00\",\n    \"text\": \"Great product!\"\n}\nreview = Review.from_representation(review_data)\n</code></pre>"}]}